<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Cierre Diario</title>
    <link rel="stylesheet" href="styles.css">

</head>
<body>

    <div class="form-container">
        <h1>Cierre Diario de Caja</h1>

        <div class="form-section"><h2>Datos Generales</h2><div class="inline-fields"><div class="form-field"><label for="negocio">Negocio</label><select id="negocio" name="negocio"><option value="">Cargando...</option></select></div><div class="form-field"><label for="cajero">Cajero</label><select id="cajero" name="cajero"><option value="">Cargando...</option></select></div><div class="form-field"><label for="fecha">Fecha</label><input type="date" id="fecha" name="fecha"></div></div></div>
        
        <div class="form-section"><h2>Cuadre de Caja Inicial</h2><div class="inline-fields"><div class="form-field"><label for="caja-chica-anterior">Caja Chica (Anterior)</label><input type="text" id="caja-chica-anterior" name="caja-chica-anterior" readonly placeholder="Se carga automático..."></div><div class="form-field"><label for="monto-encontrado">Monto Encontrado (Real)</label><input type="number" id="monto-encontrado" name="monto-encontrado" placeholder="0.00" step="0.01"></div></div></div>

        <div class="form-section"><h2>Ingresos y Verificación</h2><div class="inline-fields"><div><h3>Reporte del POS</h3><div class="form-field"><label for="pos-venta-efectivo">Venta en Efectivo (POS)</label><input type="number" id="pos-venta-efectivo" name="pos-venta-efectivo" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="pos-transferencias">Transferencias (POS)</label><input type="number" id="pos-transferencias" name="pos-transferencias" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="pos-venta-tarjeta">Venta en Tarjeta (POS)</label><input type="number" id="pos-venta-tarjeta" name="pos-venta-tarjeta" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="pos-venta-total">Venta Total (POS)</label><input type="number" id="pos-venta-total" name="pos-venta-total" placeholder="0.00" step="0.01"></div></div><div><h3>Detalle Real</h3><div class="form-field"><label for="real-efectivo">Efectivo Real</label><input type="number" id="real-efectivo" name="real-efectivo" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="real-transferencias">Transferencias (Calculado)</label><input type="text" id="real-transferencias" name="real-transferencias" readonly placeholder="0.00"></div><div class="form-field"><label for="verifone-1">Verifone 1</label><input type="number" id="verifone-1" name="verifone-1" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="verifone-2">Verifone 2</label><input type="number" id="verifone-2" name="verifone-2" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="real-total-tarjeta">Total Tarjeta (Calculado)</label><input type="text" id="real-total-tarjeta" name="real-total-tarjeta" readonly placeholder="0.00"></div><div class="form-field"><label for="real-total-ventas">Total Ventas (Calculado)</label><input type="text" id="real-total-ventas" name="real-total-ventas" readonly placeholder="0.00"></div></div></div></div>
        
        <div class="form-section"><h2>Adiciones a Caja</h2><div class="table-container" style="max-height: 150px;"><table class="data-table"><thead><tr><th style="width:70%;">Detalle</th><th style="width:25%;">Monto (RD$)</th><th style="width:5%;"></th></tr></thead><tbody id="adiciones-tbody"></tbody></table></div><div class="actions"><button type="button" class="btn btn-add" id="add-adicion-btn">+ Añadir Adición</button></div></div>
        <div class="form-section"><h2>Registrar Gastos</h2><div class="table-container"><table class="data-table"><thead><tr><th style="width: 20%;">Tipo de Gasto</th><th style="width: 25%;">Detalle</th><th style="width: 20%;">Pagado por</th><th style="width: 15%;">Monto (RD$)</th><th style="width: 20%;">Comentario</th><th style="width: 5%;"></th></tr></thead><tbody id="gastos-tbody"></tbody></table></div><div class="actions"><button type="button" class="btn btn-add" id="add-gasto-btn">+ Añadir Gasto</button></div></div>
        <div class="form-section"><h2>Cuentas por Cobrar</h2><div class="table-container"><table class="data-table"><thead><tr><th style="width: 45%;">Nombre</th><th style="width: 30%;">Operación</th><th style="width: 20%;">Monto (RD$)</th><th style="width: 5%;"></th></tr></thead><tbody id="cxc-tbody"></tbody></table></div><div class="actions"><button type="button" class="btn btn-add" id="add-cxc-btn">+ Añadir Cuenta</button></div></div>
        <div class="form-section"><h2>Transferencia Clientes</h2><div class="table-container"><table class="data-table"><thead><tr><th style="width: 25%;">Nombre</th><th style="width: 45%;">Cuentas de banco</th><th style="width: 25%;">Monto (RD$)</th><th style="width: 5%;"></th></tr></thead><tbody id="transferencias-tbody"></tbody></table></div><div class="actions"><button type="button" class="btn btn-add" id="add-transferencia-btn">+ Añadir Transferencia</button></div></div>

        <div class="form-section"><h2>Herramienta: Conteo de Efectivo Físico</h2><div id="conteo-efectivo-grid" class="conteo-grid"></div></div>
        
        <div class="form-section"><h2>Cierre de Cuadre</h2><div class="inline-fields"><div><div class="form-field"><label>Gastos de Caja Chica</label><input type="text" id="cierre-gasto-caja-chica" readonly placeholder="RD$ 0.00"></div><div class="form-field"><label>Diferencia en Efectivo</label><input type="text" id="diferencia-efectivo" readonly placeholder="RD$ 0.00"></div><div class="form-field"><label>Diferencia en Tarjeta</label><input type="text" id="diferencia-tarjeta" readonly placeholder="RD$ 0.00"></div><div class="form-field"><label>Diferencia del Total</label><input type="text" id="diferencia-total" readonly placeholder="RD$ 0.00"></div></div><div><div class="form-field"><label>Monto Real en Caja (Contado)</label><input type="text" id="cierre-monto-real" readonly placeholder="RD$ 0.00"></div><div class="form-field"><label>Monto en Sistema (Efectivo)</label><input type="text" id="cierre-monto-sistema" readonly placeholder="RD$ 0.00"></div><div class="form-field"><label for="entrega-efectivo">Entrega de Efectivo</label><input type="number" id="entrega-efectivo" placeholder="0.00" step="0.01"></div><div class="form-field"><label for="entregado-a">Entregado a:</label><select id="entregado-a"><option value="">Seleccione...</option><option value="banco">Depósito Banco</option><option value="william">William</option></select></div><div class="form-field"><label>Total Final en Caja (Próximo Turno)</label><input type="text" id="total-final-caja" readonly placeholder="RD$ 0.00"></div></div></div><div class="form-field"><label for="comentarios-finales">Comentarios Finales</label><textarea id="comentarios-finales" placeholder="Añadir cualquier nota relevante sobre el cierre..."></textarea></div></div>

        <div class="form-section actions"><div id="status-message"></div><button type="button" class="btn btn-primary" id="guardar-cierre-btn">Guardar Cierre</button></div>
    </div>

    <!-- MODAL DE CONFIRMACIÓN -->
    <div id="confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <h3>Confirmar Guardado</h3>
            <p>¿Estás seguro de que deseas guardar y finalizar este cierre? Esta acción no se puede deshacer.</p>
            <div class="modal-actions">
                <button type="button" id="cancel-save-btn" class="btn btn-secondary">Cancelar</button>
                <button type="button" id="confirm-save-btn" class="btn btn-primary">Confirmar y Guardar</button>
            </div>
        </div>
    </div>

<!--MODAL DE CONFIRMACIÓN -->
<div id="confirm-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>Confirmar Guardado</h3>
        <p>¿Estás seguro de que deseas guardar y finalizar este cierre? Esta acción no se puede deshacer.</p>
        <div class="modal-actions">
            <button type="button" id="cancel-save-btn" class="btn btn-secondary">Cancelar</button>
            <button type="button" id="confirm-save-btn" class="btn btn-primary">Confirmar y Guardar</button>
        </div>
    </div>
</div>
<script type="module" src="app.js"></script>
</body>
</html>

